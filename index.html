<!DOCTYPE html>
<!-- Main page for Opira - shows student restaurants and a map -->
<html lang="fi">
  <head>
    <meta name="description" content="JavaScriptModuulit" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Opira</title>

    <!-- Stylesheets -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="Styling/style.css" />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <!-- Leaflet CSS for the interactive map -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />

    <!-- JavaScript modules (deferred to keep page responsive) -->
    <script src="./Scripts/data.js" defer></script>
    <script src="./Scripts/functional.js" defer></script>
    <script src="./Scripts/IntersectionObserver.js" defer></script>
    <script src="./Scripts/loginData.js" defer></script>
    <script src="./Scripts/profileFavorites.js" defer></script>

    <!-- Leaflet JS (map functionality) -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
  </head>

  <body>
    <!-- Navigation bar -->
    <div class="topnav">
      <a href="./index.html" class="active">Opira</a>
      <div id="myLinks">
        <a href="#h" aria-label="Ravintolat kohta kotisivulla">Ravintolat</a>
        <a href="#m" aria-label="Kartta kohta kotisivulla">Kartta</a>
        <a id="loginBtn" onclick="openModal()" aria-label="Kirjautumisen näkymä"
          >Kirjaudu</a
        >
      </div>
      <a
        href="javascript:void(0);"
        class="icon"
        onclick="openBurger()"
        aria-label="Avaa valikko"
      >
        <i class="fa fa-bars"></i>
      </a>
    </div>

    <!-- Page content -->

    <!-- Home / Restaurants list -->
    <section id="h" class="home">
      <div>
        <h1>Tervetuloa Opiran sivuille!</h1>
        <p>Täältä näet suomen opiskelijaravintolat kätevästi</p>

        <!-- Filter dropdown for sorting and menu type selection -->
        <div class="dropdown">
          <button class="dropbtn">Filtteröi</button>
          <div class="dropdown-content">
            <a onclick="main(1)">Nimellä</a>
            <a onclick="main(2)">Etäisyydellä</a>
            <a onclick="main(3)">Suosikki</a>
            <p>-- Menu valinta --</p>
            <a class="menuType" data-type="daily">Päivittäin</a>
            <a class="menuType" data-type="weekly">Viikottain</a>
          </div>
        </div>

        <div class="flex-container">
          <div class="flex-item" style="height: 400px; overflow: auto">
            <table>
              <!-- Restaurant rows are inserted here by `Scripts/data.js` -->
            </table>
            <!-- Small modal for showing restaurant info -->
            <div id="Modal2" class="modal">
              <!-- Content inserted dynamically into this element -->
              <div id="modalText" class="modal-content"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Destination button: scrolls down to the map -->
    <a href="#m" id="dest-Btn">⬇ Siirry alas ⬇</a>

    <!-- Map section (Leaflet map mounts into `#map`) -->
    <section id="m" class="home">
      <div id="map"></div>
    </section>

    <!-- Login Modal (opens when user clicks 'Kirjaudu') -->
    <div id="Modal" class="modal">
      <!-- Modal content -->
      <div class="modal-content">
        <span class="closeModal" onclick="closeModal()">&times;</span>
        <h2>Kirjaudu sisään!</h2>
        <p>Tietosi ovat suojattu.</p>
        <form id="loginSubmit">
          <input id="ACC" type="text" placeholder="Käyttäjätunnus" />
          <input id="PASS" type="password" placeholder="Salasana" />
          <input type="submit" value="Kirjaudu" />
          <a onClick="openRegisterModal()">Uusi käyttäjä?</a>
        </form>
      </div>
    </div>

    <!-- Register Modal (new user sign-up) -->
    <div id="registerModal" class="modal">
      <!-- Modal content -->
      <div class="modal-content">
        <span class="closeModal" onclick="closeModal()">&times;</span>
        <h2>Rekisteröidy!</h2>
        <p>Tietosi ovat suojattu.</p>
        <form id="registerSubmit">
          <input id="ACCReg" type="text" placeholder="Käyttäjätunnus" />
          <input id="PASSReg" type="password" placeholder="Salasana" />
          <input id="MAILReg" type="email" placeholder="Sähköposti" />

          <input type="submit" value="Rekisteröidy" />
        </form>
      </div>
    </div>
  </body>
</html>
